from middlerware.handler import Handler, MySqlHandlerWare, replace_datafrom common.requset_handler import visitimport ddtimport unittestimport json# 获取关注信息attention_data = Handler.excel.read_sheet("关注、取消关注")logger = Handler.logger@ddt.ddtclass TestAttention(unittest.TestCase):    @classmethod    def setUpClass(cls) -> None:        cls.attention_carid = Handler().attention_carid    @ddt.data(*attention_data)    def test_attention(self, test_info):        if "#attention_carid#" in test_info["data"]:            test_info["data"] = test_info["data"].replace("#attention_carid#", str(self.attention_carid))        resp = visit(method=test_info["method"],                     url=Handler.host + test_info["url"],                     json=json.loads(test_info["data"]))        expected = json.loads(test_info["expected"])        self.assertTrue(expected["code"] == resp["code"])        self.assertTrue(expected["msg"] == resp["msg"])        if test_info["case_id"] == 2:            self.db = MySqlHandlerWare()            sql = "select * from tb_user_attention where car_id = {} and user_id = 1;".format(self.attention_carid)            yes_attention = self.db.query(sql)            self.db.close()            self.assertTrue(yes_attention)        logger.info("第{}条测试用例通过".format(test_info["case_id"]))if __name__ == '__main__':    unittest.main()